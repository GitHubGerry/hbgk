<html>
<head>
<title> 
上传文件
</title>
<script type="text/javascript" src="jquery-1.6.4.min.js"></script>
<script type="text/javascript" src="ajaxfileupload.js"></script>
</head>
<body>
<form name="uploadfile" id="uploadfile" method="POST" enctype="multipart/form-data">
<table bgcolor="#f3f3f8" height="300" width="500">
    <tr>
      <td align="center" height="300" valign="middle">
        <input type="file" name="upFile" id="upFile"  size="40"/>
        <input type="button" name="upload1" id="upload1" value="提交" onclick="upFiles();" />
       </td>
    </tr>
</table>
</form>
<script language="javascript">
function upFiles(){
	var file = document.getElementById("upFile").value;
	var allowTypes = "jpg,bmp,gif";
	var types = allowTypes.split(",");
	var ext = file.substring(file.lastIndexOf('.')+1,file.length).toLowerCase();
	if ($.inArray(String(ext), types) === -1){
		alert("只能上传"+allowTypes+"类型文件！");return ;
	}
	$.ajaxFileUpload({
		url:'xxxx', //改为后台上传路径
		secureuri:false,
		fileElementId:'upFile',
		dataType: 'json',
		data:{
			//这里可以加参数，如：id:'11111',name:'xxxx'
		},
		success: function (data, status){
			//后台返回JSON格式的字符串,具体返回数据根据实际需要，如：{sucess:true,msg:'上传成功',filePath:'uploads/xxxx.jpg',id:'1111'}
			if(typeof(data.sucess) != 'undefined'){
				if(data.sucess){
					alert("上传成功");
					//下面可以进行些操作
				}else{
					alert("上传失败");
				}
			}
		},
		error: function (data, status, e){
			alert(e);
		}
	 });
		
	return false;
}

</script>
</body>
</html>